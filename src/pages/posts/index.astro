---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import GroupedPostList from '../../components/GroupedPostList.astro';

const posts = await getCollection('blog');
const sorted = posts.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf());
---
<BaseLayout title="所有文章">

  <div class="mb-6 pb-4">
    <p class="font-mono text-xs text-muted uppercase tracking-[0.35em] mb-3">
      {sorted.length} Articles
    </p>
    <h1 class="font-mono text-3xl uppercase tracking-tight text-charcoal">
      所有文章
    </h1>
  </div>

  <GroupedPostList posts={sorted} showCategory={true} />

</BaseLayout>
